(function(r,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.VueImageDropForm={},r.Vue))})(this,function(r,e){"use strict";const V="",g=(o,u)=>{const f=o.__vccOpts||o;for(const[s,c]of u)f[s]=c;return f},y={key:0,class:"select-label"},v={key:1,class:"image-wrapper"},k=["src"],m=g({__name:"VueImageDropForm",props:{label:{type:String,default:"Select file"}},emits:["change"],setup(o,{emit:u}){const f=o,s=e.ref(null),c=e.ref(null),p=e.ref(null),_=n=>{u("change",Array.from(n)[0]),a.value!==""&&URL.revokeObjectURL(a),p.value=Array.from(n)[0]},a=e.computed(()=>p.value?URL.createObjectURL(p.value):"");return e.onMounted(()=>{let n=c.value,l=s.value;n&&(n.addEventListener("dragenter",t=>{t.preventDefault()}),n.addEventListener("dragleave",t=>{t.preventDefault()}),n.addEventListener("dragover",t=>{t.preventDefault()}),n.addEventListener("drop",t=>{t.preventDefault(),t.dataTransfer&&_(t.dataTransfer.files)}),n.addEventListener("click",t=>{t.preventDefault(),l&&l.click()}),l&&l.addEventListener("change",t=>{t.target.files&&_(t.target.files)}))}),(n,l)=>(e.openBlock(),e.createElementBlock("div",null,[e.createElementVNode("div",{ref_key:"fileDropzoneRef",ref:c,class:"file-dropzone"},[e.unref(a)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",y,e.toDisplayString(f.label),1)),e.unref(a)?(e.openBlock(),e.createElementBlock("div",v,[e.createElementVNode("img",{src:e.unref(a),class:"image-preview"},null,8,k)])):e.createCommentVNode("",!0)],512),e.createElementVNode("input",{ref_key:"fileInputRef",ref:s,type:"file",class:"file-input",onChange:l[0]||(l[0]=(...t)=>n.fileChanged&&n.fileChanged(...t))},null,544)]))}},[["__scopeId","data-v-fb518815"]]);function i(o){i.installed||(i.installed=!0,o.component("VueImageDropForm",m))}const D={install:i};let d=null;typeof window<"u"&&(d=window.Vue),d&&d.use(D),r.default=m,r.install=i,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
