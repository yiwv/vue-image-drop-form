(function(r,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(r=typeof globalThis<"u"?globalThis:r||self,e(r.VueImageDropForm={},r.Vue))})(this,function(r,e){"use strict";const V="",g=(o,p)=>{const s=o.__vccOpts||o;for(const[f,c]of p)s[f]=c;return s},y={key:0,class:"select-label"},k={key:1,class:"image-wrapper"},v=["src"],m=g({__name:"VueImageDropForm",props:{label:{type:String,default:"Select file"}},emits:["change"],setup(o,{emit:p}){const s=o,f=e.ref(null),c=e.ref(null),u=e.ref(null),_=n=>{p("change",Array.from(n)[0]),a.value!==""&&URL.revokeObjectURL(a),u.value=Array.from(n)[0]},a=e.computed(()=>u.value?URL.createObjectURL(u.value):"");return e.onMounted(()=>{let n=c.value,l=f.value;n&&(n.addEventListener("dragenter",t=>{t.preventDefault()}),n.addEventListener("dragleave",t=>{t.preventDefault()}),n.addEventListener("dragover",t=>{t.preventDefault()}),n.addEventListener("drop",t=>{t.preventDefault(),t.dataTransfer&&_(t.dataTransfer.files)}),n.addEventListener("click",t=>{t.preventDefault(),l&&l.click()}),l&&l.addEventListener("change",t=>{t.target.files&&_(t.target.files)}))}),(n,l)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createElementVNode("div",{ref_key:"fileDropzoneRef",ref:c,class:"file-dropzone"},[e.unref(a)?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",y,e.toDisplayString(s.label),1)),e.unref(a)?(e.openBlock(),e.createElementBlock("div",k,[e.createElementVNode("img",{src:e.unref(a),class:"image-preview"},null,8,v)])):e.createCommentVNode("",!0)],512),e.createElementVNode("input",{ref_key:"fileInputRef",ref:f,onChange:l[0]||(l[0]=(...t)=>n.fileChanged&&n.fileChanged(...t)),type:"file",class:"file-input"},null,544)],64))}},[["__scopeId","data-v-25ab0715"]]);function i(o){i.installed||(i.installed=!0,o.component("VueImageDropForm",m))}const D={install:i};let d=null;typeof window<"u"&&(d=window.Vue),d&&d.use(D),r.default=m,r.install=i,Object.defineProperties(r,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
